"use strict";const buttonSearch=document.querySelector(".button-search"),cocktailssearch=document.querySelector(".cocktailssearch");let data=[];function handleClick(){const e=document.querySelector(".input").value;fetch("https://thecocktaildb.com/api/json/v1/1/search.php?s="+e).then((function(e){return e.json()})).then(e=>{const t=e.drinks;null===e.drinks?cocktailssearch.innerHTML="El coctel buscado no existe":(localStorage.setItem("drinkslocal",JSON.stringify(t)),buildCoctails())})}function buildCoctails(){const e=JSON.parse(localStorage.getItem("drinkslocal"));let t="";t='<h3 class="licoctails">Lista de cocteles buscados</h3>';for(const c of e){const e=c.strDrink,l=c.strDrinkThumb;t+='<li class="listsearch">',t+=`<div class="cocktails" id="${c.idDrink}"> ${e}`,t+=""===l?'<img class="image" src="https://via.placeholder.com/210x295/ffffff/666666/?text=C%C3%B3ctel" width="50">':`<img class="image" src="${l}" width="50">`,t+="</div>",t+="</li>"}cocktailssearch.innerHTML=t,handleClickCocktails()}function handleClickCocktails(){const e=document.querySelectorAll(".cocktails");for(const t of e)t.addEventListener("click",addFavorite)}function addFavorite(e){const t=JSON.parse(localStorage.getItem("drinkslocal")),c=document.querySelector(".favorites"),l=e.currentTarget.id,s=t.find(e=>e.idDrink===l);let i=JSON.parse(localStorage.getItem("drinkslocalFav"));null===i&&(i=[]),i.push(s),localStorage.setItem("drinkslocalFav",JSON.stringify(i));let o="";const a=s.strDrink,n=s.strDrinkThumb,r=s.idDrink;o+='<li class="favorites">',o+='<div class="cocktailsfavorites"> '+a,o+=`<img class="image" src="${n}" width="50">`,o+=`<p class="selecdelete" id="fav-${r}">x</p>`,o+="</div>",o+="</li>",c.innerHTML+=o,colorSelecFav(r),handleClickDelete()}function colorSelecFav(e){const t=document.getElementById(e);console.log(t),t.classList.add("selecfavo")}function handleClickDelete(){const e=document.querySelectorAll(".selecdelete");for(const t of e)t.addEventListener("click",deleteFavorite)}function deleteFavorite(e){let t=e.currentTarget.id.split("-")[1];const c=JSON.parse(localStorage.getItem("drinkslocalFav")),l=c.findIndex(e=>e.idDrink===t);c.splice(l,1),localStorage.setItem("drinkslocalFav",JSON.stringify(c));const s=document.querySelector(".favorites");s.innerHTML="";let i="";for(const e of c){i+='<li class="favorites">',i+='<div class="cocktailsfavorites"> '+e.strDrink,i+=`<img class="image" src="${e.strDrinkThumb}" width="50">`,i+=`<p class="selecdelete" id="fav-${e.idDrink}">x</p>`,i+="</div>",i+="</li>",s.innerHTML=i}handleClickDelete(),deleteBorderSearch(t)}function deleteBorderSearch(e){document.getElementById(e).classList.remove("selecfavo")}buttonSearch.addEventListener("click",handleClick);